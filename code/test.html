<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>

<body>

    <script>
        var merge = function (intervals) {
            let sortedArr = intervals.sort((item1, item2) => item1[0] - item2[0])
           console.log('sortedArr',sortedArr.length)
            let res = []
            for (let i = 0, len = sortedArr.length; i < len - 1; i++) {
                if (sortedArr[i][1] >= sortedArr[i + 1][0]) {
                    console.log('-------+++++++++++--------')
                    sortedArr[i + 1] = mergeInterval(sortedArr[i], sortedArr[i + 1])
                } else {
                    console.log('-------***********--------')
                    res.push(sortedArr[i])
                }
            }
            res.push(sortedArr.pop())
            function mergeInterval(arr1, arr2) {
                console.log('---------------',arr1,arr2)
                return [Math.min(...arr1, ...arr2), Math.max(...arr1, ...arr2)]
            }
            return res
        };
        console.log(merge([[1,3],[2,6],[8,10],[15,18]]))
    </script>

</body>

</html>